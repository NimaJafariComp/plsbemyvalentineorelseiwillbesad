<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kitkat, Will You Be My Valentine?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* Overall page styling */
    body {
      background-color: #E6E6FA; /* light purple / lavender */
      font-family: Arial, sans-serif;
      text-align: center;
      color: #333;
      margin: 0;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }
    #container {
      max-width: 600px;
      margin: 0 auto;
    }
    h1, h2 {
      margin: 20px 0;
    }
    button {
      padding: 10px 20px;
      font-size: 1.2em;
      margin: 10px;
      cursor: pointer;
      border: none;
      border-radius: 5px;
      background-color: #9370DB; /* a shade of purple */
      color: white;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #7A5CC0;
    }
    /* Style for the dodging “No” button */
    #noButton {
      position: relative;
    }
    /* Running cat animation */
    @keyframes cat-run {
      0%   { right: -120px; }
      100% { right: 100%; }
    }
    .cat-run {
      position: absolute;
      bottom: 20px;
      right: -120px;
      width: 100px;
      animation: cat-run 5s linear infinite;
    }
    /* Celebration mode animation (example confetti spin) */
    .celebration {
      animation: confetti 2s infinite;
    }
    @keyframes confetti {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    /* Form styling */
    form {
      text-align: left;
      margin: 20px auto;
      max-width: 400px;
      background: rgba(255, 255, 255, 0.8);
      padding: 15px;
      border-radius: 10px;
    }
    form p, form input, form select, form label {
      font-size: 1em;
      margin: 10px 0;
    }
    form input[type="text"] {
      width: 100%;
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
  </style>
</head>
<body>
  <div id="container">
    <!-- Title and greeting -->
    <h1>Kitkat, Will You Be My Valentine?</h1>
    <!-- KitKat chocolate image -->
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/KitKat_Chocolate_Bar.jpg/800px-KitKat_Chocolate_Bar.jpg" 
         alt="KitKat Chocolate" style="max-width:200px; margin: 10px auto; display: block;">
    <!-- Yes and No buttons -->
    <div>
      <button id="yesButton">Yes</button>
      <button id="noButton">No</button>
    </div>
  </div>

  <!-- Running cat animation (sample gif) -->
  <img src="https://media.giphy.com/media/Lq0h93752f6J9tijrh/giphy.gif" alt="Running Cat" class="cat-run">
  <!-- Cute panda gif in a fixed position -->
  <img src="https://media.giphy.com/media/11sBLVxNs7v6WA/giphy.gif" alt="Cute Panda" style="position: fixed; top: 10px; left: 10px; width: 100px;">

  <script>
    // Dodging behavior for the "No" button on desktop and mobile
    const noButton = document.getElementById('noButton');
    noButton.addEventListener('mouseover', function(e) {
      const container = document.getElementById('container');
      const containerRect = container.getBoundingClientRect();
      const newLeft = Math.random() * (containerRect.width - noButton.offsetWidth);
      const newTop = Math.random() * (containerRect.height - noButton.offsetHeight);
      noButton.style.position = 'absolute';
      noButton.style.left = newLeft + 'px';
      noButton.style.top = newTop + 'px';
    });
    noButton.addEventListener('touchstart', function(e) {
      e.preventDefault();
      const container = document.getElementById('container');
      const containerRect = container.getBoundingClientRect();
      const newLeft = Math.random() * (containerRect.width - noButton.offsetWidth);
      const newTop = Math.random() * (containerRect.height - noButton.offsetHeight);
      noButton.style.position = 'absolute';
      noButton.style.left = newLeft + 'px';
      noButton.style.top = newTop + 'px';
    });

    // Handler for the "Yes" button click
    const yesButton = document.getElementById('yesButton');
    yesButton.addEventListener('click', function() {
      // Clear the initial container content
      document.getElementById('container').innerHTML = '';
      
      // Create celebration mode content with a form for activity choices
      const celebrationDiv = document.createElement('div');
      celebrationDiv.id = 'celebrationMode';
      celebrationDiv.className = 'celebration';
      celebrationDiv.innerHTML = `
        <h1>Yay! Let's plan our day, Kitkat!</h1>
        <form id="responseForm">
          <p><strong>Select the activities you'd like:</strong></p>
          <label><input type="checkbox" name="activities" value="dinner"> Small Dinner</label><br>
          <label><input type="checkbox" name="activities" value="froyo"> Froyo</label><br>
          <label><input type="checkbox" name="activities" value="icecream"> Ice Cream</label><br>
          <label><input type="checkbox" name="activities" value="hotcoco"> Hot Coco</label><br>
          <label><input type="checkbox" name="activities" value="coffee"> Coffee</label><br>
          <label><input type="checkbox" name="activities" value="sweets"> Sweets</label><br>
          <label><input type="checkbox" name="activities" value="drinks"> Drinks</label><br>
          <p>
            <label>Gift? 
              <select name="gift">
                <option value="yes">Yes</option>
                <option value="no">No</option>
              </select>
            </label>
          </p>
          <p><em>Flowers are non-negotiable!</em></p>
          <p><strong>Any other ideas?</strong></p>
          <input type="text" name="other" placeholder="Your idea here">
          <br><br>
          <button type="submit">Submit</button>
        </form>
      `;
      // Replace the body content with the celebration mode content
      document.body.innerHTML = '';
      document.body.appendChild(celebrationDiv);
      
      // When the form is submitted, save the response and show the final message
      document.getElementById('responseForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const formData = new FormData(e.target);
        let data = {};
        formData.forEach((value, key) => {
          if(data[key]) {
            if(Array.isArray(data[key])) {
              data[key].push(value);
            } else {
              data[key] = [data[key], value];
            }
          } else {
            data[key] = value;
          }
        });
        // For demonstration, we save the response in localStorage.
        // For a production system, you could send this data to a backend (e.g., via Formspree, Firebase, etc.)
        localStorage.setItem('kitkatResponse', JSON.stringify(data));
        
        // Display the final celebration message with two cats hugging
        document.body.innerHTML = `
          <div style="text-align: center; padding: 20px;">
            <img src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif" 
                 alt="Two Cats Hugging" style="max-width:300px; margin-bottom: 20px;">
            <h2>alrighty then love u pookie</h2>
          </div>
        `;
      });
    });
  </script>
</body>
</html>
